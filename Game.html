<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>replit</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>
<style>
  .Spaceship {
    position: fixed;
    height: 190px;
    width: 100px;
    bottom: 0;
    left: 50%;
  }

  .Mainbody {
    top: 101px;
    width: 100px;
    height: 125px;
    background-color: gray;
  }

  .Arm1 {
    height: 65px;
    width: 20px;
    left: 1px;
    background-color: lightgray;
    border: 5px solid grey;
  }

  .Arm2 {
    position: absolute;
    height: 65px;
    width: 20px;
    top: 0;
    right: 0;
    background-color: lightgray;
    border: 5px solid grey;
  }

  .Window {
    position: absolute;
    height: 20px;
    width: 60px;
    top: 66px;
    left: 15px;
    background-color: lightblue;
    border: 5px solid grey;
  }

  .LowerBody {
    position: absolute;
    width: 75px;
    height: 75px;
    background-color: gray;
    top: 100px;
    left: 7px;
    border: lightgray solid 5px;
    border-radius: 5px;
  }

  .Container {
    position: fixed;
    height: 40vh;
    width: 100%;
    bottom: 0;
    left: 0;
  }

  .Coin {
    position: fixed;
    height: 100px;
    width: 100px;
    border-radius: 50%;
    background-color: gold;
    border: yellow 10px solid;
    display: flex;
    /* Enables Flexbox */
    align-items: center;
    /* Vertical alignment */
    justify-content: center;
    /* Horizontal alignment */
  }

  .MoneySimble {
    color: white;
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    text-align: center;
    font-size: 50px;
  }

  .astraroid {
    position: fixed;
    top: 0;
    left: 0;
    height: 300px;
    width: 150px;
    display: none;
  }

  .AB {
    height: 150px;
    width: 150px;
    background-color: #3e4247;
    border-radius: 150px;
    border-bottom: #de4a00 8px solid;
    position: absolute;
    bottom: 0;
    left: 0;
  }

  .Fire1 {
    position: absolute;
    height: 150px;
    width: 10px;
    bottom: 45px;
    background-color: #de4a00;
    left: 0;
    border-radius: 25px;
    border: none;
  }

  .Fire2 {
    position: absolute;
    height: 150px;
    width: 10px;
    bottom: 50px;
    background-color: #de4a00;
    right: 0;
    border-radius: 25px;
    border: none;
  }

  .Star {
    position: fixed;
    height: 10px;
    width: 10px;
    background-color: white;
    border-radius: 50%;
    border: none;
  }

  body {
    background-color: #1c1a19;
  }

  /* Styling for the Game Over UI */
  .UiMain {
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100vh;
    /* Full screen height */
    background: linear-gradient(45deg, #1e1e2f, #3b3b52);
    /* Gradient background */
    color: #ffffff;
    /* Text color */
    font-family: 'Arial', sans-serif;
    text-align: center;
    gap: 20px;
    /* Spacing between elements */
  }

  /* Game Over Header */
  .UiMain h2 {
    font-size: 3rem;
    /* Large font size for "You Died" */
    font-weight: bold;
    color: #ff4e4e;
    /* Bright red for emphasis */
    text-shadow: 0px 4px 10px rgba(255, 78, 78, 0.7);
    /* Glow effect */
  }

  /* Score Display */
  .UiMain h3 {
    font-size: 1.5rem;
    color: #f0f0f0;
    /* Slightly off-white for better readability */
  }

  .UiMain h3 span {
    color: #ffd700;
    /* Gold color for the score value */
    font-weight: bold;
  }

  /* Button Styling */
  .UiMain button {
    background-color: #4caf50;
    /* Green button */
    color: #ffffff;
    border: none;
    padding: 15px 30px;
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    border-radius: 8px;
    /* Rounded corners */
    box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.3);
    /* Subtle shadow */
    transition: transform 0.2s, box-shadow 0.2s;
  }

  /* Button Hover Effect */
  .UiMain button:hover {
    transform: scale(1.05);
    /* Slightly grow */
    box-shadow: 0px 6px 12px rgba(0, 0, 0, 0.4);
    /* Larger shadow */
  }

  .UiMain button:active {
    transform: scale(0.95);
    /* Slightly shrink */
    box-shadow: 0px 2px 4px rgba(0, 0, 0, 0.2);
    /* Reduce shadow */
  }

  #MobileControls {
    position: fixed;
    bottom: 0;
    left: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 10px;
    margin: 20px;
    border-radius: 10px;
    padding: 20px;
  }

  #MobileControls #Row {
    display: flex;
    gap: 10px;
    justify-content: center;
    align-items: center;
  }

  button.Control {
    background-color: #007bff;
    color: white;
    border: none;
    border-radius: 5px;
    padding: 10px 20px;
    font-size: 18px;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.2s ease;
  }

  button.Control:hover {
    background-color: #0056b3;
    transform: scale(1.1);
  }

  button.Control:active {
    background-color: #003f7f;
    transform: scale(1);
  }

  #MobileControls .BR {
    display: flex;
    justify-content: center;
    margin-bottom: 10px;
  }

  /* Additional responsiveness for smaller screens */
  @media (max-width: 600px) {
    #MobileControls {
      padding: 10px;
    }

    button.Control {
      font-size: 16px;
      padding: 8px 15px;
    }
  }
  .Control {
    user-select: none; 
  }
</style>

<body>
  <div id="Ui" class="UiMain">
    <h2>You Died</h2>
    <h3>Score: <span id="Score">0</span></h3>
    <button onclick="Replay()">Play Again</button>
  </div>


  <div class="Container" id="container">
    <span
      style="width: 60px; height: 15px; background-color: white; border-raduis: 5px; font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen;">
      <a class="Point">Points: <a id="Points"></a></a>
    </span>

    <div id="Spaceship" class="Spaceship">
      <div class="Arm1"></div>
      <div class="Arm2"></div>
      <div class="Mainbody">
        <div class="Window"></div>
        <div class="LowerBody"></div>
      </div>
    </div>
    <div id="Coins">
      <div class="Coin" id="Coin1">
        <p class="MoneySimble">$</p>
      </div>
      <div class="Coin" id="Coin2">
        <p class="MoneySimble">$</p>
      </div>
      <div class="Coin" id="Coin3">
        <p class="MoneySimble">$</p>
      </div>

      <div class="Star" id="Star1"></div>
      <div class="Star" id="Star2"></div>
      <div class="Star" id="Star3"></div>
      <div class="Star" id="Star4"></div>
      <div class="Star" id="Star5"></div>
      <div class="Star" id="Star6"></div>
      <div class="Star" id="Star7"></div>



    </div>
    <div class="astraroid" id="astaroid">
      <div class="AB"></div>
      <div class="Fire1"></div>
      <div class="Fire2"></div>
    </div>
  </div>

  <div class="MC" id="MobileControls">
    <div class="BR" id="Row">
      <button  oncontextmenu="return false;" class="Control" id="AU">&#11165</button>
    </div>
    <div id="Row">
      <button  oncontextmenu="return false;" class="Control" id="AL">&#11164</button>
      <button  oncontextmenu="return false;" class="Control" id="AD">&#11167</button>
      <button  oncontextmenu="return false;" class="Control" id="AR">&#11166</button>
    </div>
  </div>


  <script>
    let movingLeft = false;
    let movingRight = false;
    let movingUp = false;
    let movingDown = false;

    let Coins = ["Coin1", "Coin2", "Coin3", "Star1", "Star2", "Star3", "Star4", "Star5", "Star6", "Star7"];

    function AnimateCoins() {
      for (let i = 0; i < Coins.length; i++) {
        let Coin = document.getElementById(Coins[i]);
        // Update the coin's position
        Coin.style.top = Number((Coin.style.top).replace("px", "")) + 4 + "px";

        // Get the bounding rectangle of the coin
        let rect = Coin.getBoundingClientRect();

        // Check if the coin is out of the viewport
        if (rect.top > window.innerHeight) {
          if (Coins[i].includes("Star")) {
            Coin.style.top = `${Math.random() * 500}px`; // Spread out stars vertically by starting at a random top position
          } else {
            Coin.style.top = "0px"
          }
          Coin.style.left = Math.floor(Math.random() * 100) + "%";
        }
      }
    }

    function AnimateAsteroid() {
      let asteroid = document.getElementById("astaroid");

      // Check if the random chance occurs
      if (Math.floor(Math.random() * 100) == 1) {
        asteroid.style.display = "block"; // Show the asteroid
        asteroid.style.left = Math.floor(Math.random() * 100) + "%"; // Random horizontal position
        asteroid.style.top = "0px"; // Start at the top

        // Animate the asteroid downwards
        for (let i = 0; i < 1000; i++) {
          setTimeout(() => {
            asteroid.style.top = i + "px"; // Move downward
          }, i * 2 + 100); // Control the speed of the animation
        }
      }
    }


    setInterval(AnimateAsteroid, 100)

    const Controls = document.getElementById("MobileControls");
    Controls.style.display = "none";

    addEventListener('touchstart', function(event) {
      Controls.style.display = "flex";
    });

    addEventListener('keydown', function(event) {
      Controls.style.display = "none";
    });



    document.addEventListener('DOMContentLoaded', function () {
      const section = document.getElementById('Spaceship');
      const container = document.getElementById('container');
      const step = 2; // Number of pixels to move on each frame

      function moveSection() {
        const containerRect = container.getBoundingClientRect();
        const sectionRect = section.getBoundingClientRect();

        let newPositionX = section.offsetLeft;
        let newPositionY = section.offsetTop;

        if (movingLeft) newPositionX -= step;
        if (movingRight) newPositionX += step;
        if (movingUp) newPositionY -= step;
        if (movingDown) newPositionY += step;

        // Ensure section does not move outside the container
        if (newPositionX < 0) newPositionX = 0;
        if (newPositionY < 0) newPositionY = 0;
        if (newPositionX + sectionRect.width > containerRect.width) newPositionX = containerRect.width - sectionRect.width;
        if (newPositionY - sectionRect.height > containerRect.height) newPositionY = containerRect.height + sectionRect.height;

        section.style.left = newPositionX + 'px';
        section.style.top = newPositionY + 'px';
      }

      document.addEventListener('keydown', function (event) {
        switch (event.key) {
          case 'ArrowLeft':
            movingLeft = true;
            break;
          case 'ArrowRight':
            movingRight = true;
            break;
          case 'ArrowUp':
            movingUp = true;
            break;
          case 'ArrowDown':
            movingDown = true;
            break;
        }
      });

      document.addEventListener('keyup', function (event) {
        switch (event.key) {
          case 'ArrowLeft':
            movingLeft = false;
            break;
          case 'ArrowRight':
            movingRight = false;
            break;
          case 'ArrowUp':
            movingUp = false;
            break;
          case 'ArrowDown':
            movingDown = false;
            break;
        }
      });

      // Continuously move the section
      setInterval(moveSection, 2);
      setInterval(AnimateCoins, 10)
    });

    var Points = 0;

    function checkCoinCollision() {
      const coinElements = document.querySelectorAll('.Coin');
      const spaceshipElement = document.getElementById('Spaceship');
      const astaroid = document.getElementById('astaroid');

      coinElements.forEach(coinElement => {
        const coinRect = coinElement.getBoundingClientRect();
        const spaceshipRect = spaceshipElement.getBoundingClientRect();

        if (
          coinRect.left < spaceshipRect.right &&
          coinRect.right > spaceshipRect.left &&
          coinRect.top < spaceshipRect.bottom &&
          coinRect.bottom > spaceshipRect.top
        ) {
          // Coin collision detected

          coinElement.style.top = "0px";
          coinElement.style.left = Math.floor(Math.random() * 100) + "%";
          Points += 1;
          document.getElementById("Points").innerHTML = Points;
        }
      });
      const astaroidRect = astaroid.getBoundingClientRect();
      const spaceshipRect = spaceshipElement.getBoundingClientRect();
      if (
        astaroidRect.left < spaceshipRect.right &&
        astaroidRect.right > spaceshipRect.left &&
        astaroidRect.top < spaceshipRect.bottom &&
        astaroidRect.bottom > spaceshipRect.top
      ) {
        document.getElementById("Ui").style.display = "flex";
        document.getElementById("container").style.display = "none";
        document.getElementById("Score").innerHTML = Points;

      }

    }

    function Replay() {
      document.getElementById("Ui").style.display = "none";
      document.getElementById("container").style.display = "block";
      Points = 0;
    }

    setInterval(checkCoinCollision, 10);

    const AU = document.getElementById('AU');

    // Detect when the button is pushed down
    AU.addEventListener('touchstart', () => {
        movingUp = true;
    });

    // Detect when the button is released
    AU.addEventListener('touchend', () => {
      movingUp = false;
    });
    
    const AL = document.getElementById('AL');
    AL.addEventListener('touchstart', () => {
        movingLeft = true;
    });

    AL.addEventListener('touchend', () => {
      movingLeft = false;
    });
    const AD = document.getElementById('AD');
    AD.addEventListener('touchstart', () => {
        movingDown = true;
    });
    AD.addEventListener('touchend', () => {
      movingDown = false;
    });
    const AR = document.getElementById('AR');
    AR.addEventListener('touchstart', () => {
        movingRight = true;
    });
    AR.addEventListener('touchend', () => {
      movingRight = false;
    });

  </script>


</body>

</html>
